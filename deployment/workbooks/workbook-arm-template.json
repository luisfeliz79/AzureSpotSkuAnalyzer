{
  "contentVersion": "1.0.0.0",
  "parameters": {
    "workbookDisplayName": {
      "type": "string",
      "defaultValue": "Spot Placement Score",
      "metadata": {
        "description": "The friendly name for the workbook that is used in the Gallery or Saved List.  This name must be unique within a resource group."
      }
    },
    "workbookType": {
      "type": "string",
      "defaultValue": "workbook",
      "metadata": {
        "description": "The gallery that the workbook will been shown under. Supported values include workbook, tsg, etc. Usually, this is 'workbook'"
      }
    },
    "workbookSourceId": {
      "type": "string",
      "defaultValue": "azure monitor",
      "metadata": {
        "description": "The id of resource instance to which the workbook will be associated"
      }
    },
    "workbookId": {
      "type": "string",
      "defaultValue": "[newGuid()]",
      "metadata": {
        "description": "The unique guid for this workbook instance"
      }
    }
  },
  "resources": [
    {
      "name": "[parameters('workbookId')]",
      "type": "microsoft.insights/workbooks",
      "location": "[resourceGroup().location]",
      "apiVersion": "2022-04-01",
      "dependsOn": [],
      "kind": "shared",
      "properties": {
        "displayName": "[parameters('workbookDisplayName')]",
        "serializedData": "{\"version\":\"Notebook/1.0\",\"items\":[{\"type\":9,\"content\":{\"version\":\"KqlParameterItem/1.0\",\"crossComponentResources\":[\"{Workspace}\"],\"parameters\":[{\"id\":\"f6cf7e71-baa9-42f6-ae6b-207231f9b382\",\"version\":\"KqlParameterItem/1.0\",\"name\":\"Workspace\",\"type\":5,\"description\":\"The Log Analytics workspace that contains the spot_placement_scores table\",\"isRequired\":true,\"query\":\"resources\\r\\n| where type == \\\"microsoft.operationalinsights/workspaces\\\"\\r\\n| project id\",\"crossComponentResources\":[\"value::tenant\"],\"typeSettings\":{\"additionalResourceOptions\":[]},\"queryType\":1,\"resourceType\":\"microsoft.resources/tenants\",\"value\":\"/subscriptions/fc4f8971-77b0-47e6-a975-e183b16794cb/resourceGroups/spotscore/providers/Microsoft.OperationalInsights/workspaces/spotscored5balaw\"},{\"id\":\"66ec1211-6143-4f47-be12-753fb1807ef7\",\"version\":\"KqlParameterItem/1.0\",\"name\":\"TimeRange\",\"type\":4,\"typeSettings\":{\"selectableValues\":[{\"durationMs\":1800000},{\"durationMs\":3600000},{\"durationMs\":14400000},{\"durationMs\":43200000},{\"durationMs\":86400000},{\"durationMs\":172800000},{\"durationMs\":259200000},{\"durationMs\":604800000},{\"durationMs\":1209600000},{\"durationMs\":2419200000},{\"durationMs\":2592000000},{\"durationMs\":5184000000},{\"durationMs\":7776000000}],\"allowCustom\":true},\"timeContext\":{\"durationMs\":86400000},\"value\":{\"durationMs\":86400000}},{\"id\":\"957dd23c-e5b0-4461-9ed5-f3c418589015\",\"version\":\"KqlParameterItem/1.0\",\"name\":\"Region\",\"type\":2,\"isRequired\":true,\"query\":\"spot_placement_scores_CL\\r\\n| distinct Region\\r\\n\",\"crossComponentResources\":[\"{Workspace}\"],\"typeSettings\":{\"additionalResourceOptions\":[],\"showDefault\":false},\"timeContext\":{\"durationMs\":0},\"timeContextFromParameter\":\"TimeRange\",\"queryType\":0,\"resourceType\":\"microsoft.operationalinsights/workspaces\",\"value\":\"eastus2\"},{\"id\":\"e1b28f13-caff-4a8f-9e9f-a63b4e93d057\",\"version\":\"KqlParameterItem/1.0\",\"name\":\"SKUs\",\"type\":2,\"isRequired\":true,\"multiSelect\":true,\"quote\":\"'\",\"delimiter\":\",\",\"query\":\"spot_placement_scores_CL\\r\\n| distinct Sku\\r\\n\",\"crossComponentResources\":[\"{Workspace}\"],\"typeSettings\":{\"additionalResourceOptions\":[\"value::all\"],\"showDefault\":false},\"timeContext\":{\"durationMs\":0},\"timeContextFromParameter\":\"TimeRange\",\"queryType\":0,\"resourceType\":\"microsoft.operationalinsights/workspaces\",\"value\":[\"value::all\"]}],\"style\":\"pills\",\"queryType\":0,\"resourceType\":\"microsoft.operationalinsights/workspaces\"},\"name\":\"parameters - 1\"},{\"type\":11,\"content\":{\"version\":\"LinkItem/1.0\",\"style\":\"tabs\",\"links\":[{\"id\":\"34f45e02-bbda-4eba-bb73-4a8caa2604a8\",\"cellValue\":\"selectedTab\",\"linkTarget\":\"parameter\",\"linkLabel\":\"Spot Placement Score\",\"subTarget\":\"spot_placement_score\",\"style\":\"link\"},{\"id\":\"8be6dad3-5d28-4782-b940-c953dae80bd2\",\"cellValue\":\"selectedTab\",\"linkTarget\":\"parameter\",\"linkLabel\":\"Score Data\",\"subTarget\":\"score_data\",\"style\":\"link\"},{\"id\":\"93e86ebd-4ac9-4a88-96b8-d3185156b65d\",\"cellValue\":\"selectedTab\",\"linkTarget\":\"parameter\",\"linkLabel\":\"Eviction and Price Data\",\"subTarget\":\"eviction_and_price\",\"style\":\"link\"},{\"id\":\"1438c8f5-3d95-4232-b581-973808578c5b\",\"cellValue\":\"selectedTab\",\"linkTarget\":\"parameter\",\"linkLabel\":\"Function App Logs\",\"subTarget\":\"function_app_logs\",\"style\":\"link\"}]},\"name\":\"links - 13\"},{\"type\":12,\"content\":{\"version\":\"NotebookGroup/1.0\",\"groupType\":\"editable\",\"items\":[{\"type\":1,\"content\":{\"json\":\"- This data is based on the [\\\"Spot Placement Score (Preview)\\\"](https://learn.microsoft.com/en-us/azure/virtual-machine-scale-sets/spot-placement-score?tabs=portal)\\r\\n- Data is retrieved every 30 minutes, based on a request for 1000 instances\\r\\n- A score of High or Medium **does not guarantee** allocation success or no evictions.\"},\"name\":\"text - 3\"},{\"type\":1,\"content\":{\"json\":\"## SKUs with highest percentage of \\\"High Score\\\"\"},\"name\":\"text - 8\"},{\"type\":3,\"content\":{\"version\":\"KqlItem/1.0\",\"query\":\"let records = spot_placement_scores_CL\\n| where Region == \\\"{Region}\\\" or \\\"{Region}\\\" == \\\"\\\"\\n| where Sku in ({SKUs});\\nrecords\\n//| extend ScoreValue = case(Score == \\\"Low\\\", 1,Score == \\\"Medium\\\", 2, Score == \\\"High\\\", 3,0)\\n| extend RegionAndSku = replace_string(strcat(Region,Sku),\\\"Standard\\\",\\\"\\\") \\n| summarize TotalCount = count(),HighScoreCount=countif(Score == \\\"High\\\") by RegionAndSku,Sku\\n| extend PercentHigh =  round((todouble(HighScoreCount) / TotalCount * 100), 2)\\n| project Sku, PercentHigh\\n| sort by PercentHigh desc\\n \",\"size\":0,\"aggregation\":1,\"timeContextFromParameter\":\"TimeRange\",\"exportFieldName\":\"label\",\"exportParameterName\":\"sku_selected\",\"exportDefaultValue\":\"all\",\"queryType\":0,\"resourceType\":\"microsoft.operationalinsights/workspaces\",\"crossComponentResources\":[\"{Workspace}\"],\"visualization\":\"barchart\",\"gridSettings\":{\"sortBy\":[{\"itemKey\":\"PercentHigh\",\"sortOrder\":2}]},\"sortBy\":[{\"itemKey\":\"PercentHigh\",\"sortOrder\":2}],\"tileSettings\":{\"showBorder\":false,\"titleContent\":{\"columnMatch\":\"Sku\",\"formatter\":1},\"leftContent\":{\"columnMatch\":\"ScoreValue\",\"formatter\":12,\"formatOptions\":{\"palette\":\"auto\"},\"numberFormat\":{\"unit\":17,\"options\":{\"maximumSignificantDigits\":3,\"maximumFractionDigits\":2}}}},\"chartSettings\":{\"showLegend\":true,\"ySettings\":{\"numberFormatSettings\":{\"unit\":1,\"options\":{\"style\":\"decimal\",\"useGrouping\":true}},\"max\":100}}},\"name\":\"query - 0 - Copy\"},{\"type\":3,\"content\":{\"version\":\"KqlItem/1.0\",\"query\":\"let records = spot_placement_scores_CL\\n| where Region == \\\"{Region}\\\" or \\\"{Region}\\\" == \\\"\\\"\\n| where Sku in ({SKUs});\\nrecords\\n//| extend ScoreValue = case(Score == \\\"Low\\\", 1,Score == \\\"Medium\\\", 2, Score == \\\"High\\\", 3,0)\\n| extend RegionAndSku = replace_string(strcat(Region,Sku),\\\"Standard\\\",\\\"\\\") \\n| summarize TotalCount = count(),HighScoreCount=countif(Score == \\\"High\\\") by RegionAndSku,Sku,Region\\n| extend PercentHigh =  round((todouble(HighScoreCount) / TotalCount * 100), 2)\\n| project Sku, PercentHigh, TestsCount=TotalCount,HighScoreCount,Region\\n| sort by PercentHigh desc\\n| join kind=leftouter (\\n   arg(\\\"\\\").SpotResources\\n| where type == \\\"microsoft.compute/skuspotpricehistory/ostype/location\\\"\\n| where location == \\\"{Region}\\\" or \\\"{Region}\\\" == \\\"\\\"\\n| where kind == \\\"linux\\\"\\n| extend SkuCode = tostring(properties.skuName)\\n| extend series = toupper(substring(SkuCode,9,1))\\n| extend skuDetails = substring(SkuCode,10,10)\\n| extend SkuName = strcat(\\\"Standard_\\\",series,skuDetails)\\n| where name !has \\\"Internal\\\"\\n| extend price_properties = properties\\n| join kind=leftouter hint.remote=local  (\\n   arg(\\\"\\\").SpotResources\\n   | where type == \\\"microsoft.compute/skuspotevictionrate/location\\\"\\n   | where location == \\\"{Region}\\\" or \\\"{Region}\\\" == \\\"\\\"\\n   | extend SkuCode = tostring(properties.skuName)\\n   | extend series = toupper(substring(SkuCode,9,1))\\n   | extend skuDetails = substring(SkuCode,10,10)\\n   | extend SkuName = strcat(\\\"Standard_\\\",series,skuDetails)\\n   | extend eviction_properties = properties\\n   ) on SkuName\\n| extend eviction_rate = eviction_properties.evictionRate\\n| extend linux_latest_price_usd  = price_properties.spotPrices[0].priceUSD\\n//| extend alternative_sku = alternative_properties.alternativeSkus[0].vmSku\\n| project SkuName,location,eviction_rate,linux_latest_price_usd\\n| where SkuName == \\\"{sku_selected}\\\" or \\\"{sku_selected}\\\" == \\\"all\\\"\\n) on $left.Sku == $right.SkuName\\n| project PercentHigh,Sku,Region,Latest7DayAvgEvictionRate=eviction_rate,LatestLinuxPriceUsd=linux_latest_price_usd,TestsCount,HighScoreCount\\n\\n\\n\\n\\n\",\"size\":0,\"aggregation\":1,\"showAnalytics\":true,\"title\":\"Sku Details (Click on a Sku to see its history below)\",\"timeContextFromParameter\":\"TimeRange\",\"showRefreshButton\":true,\"exportFieldName\":\"Sku\",\"exportParameterName\":\"sku_selected\",\"exportDefaultValue\":\"\",\"showExportToExcel\":true,\"queryType\":0,\"resourceType\":\"microsoft.operationalinsights/workspaces\",\"crossComponentResources\":[\"{Workspace}\"],\"visualization\":\"table\",\"gridSettings\":{\"filter\":true,\"sortBy\":[{\"itemKey\":\"PercentHigh\",\"sortOrder\":2}]},\"sortBy\":[{\"itemKey\":\"PercentHigh\",\"sortOrder\":2}],\"tileSettings\":{\"showBorder\":false,\"titleContent\":{\"columnMatch\":\"Sku\",\"formatter\":1},\"leftContent\":{\"columnMatch\":\"ScoreValue\",\"formatter\":12,\"formatOptions\":{\"palette\":\"auto\"},\"numberFormat\":{\"unit\":17,\"options\":{\"maximumSignificantDigits\":3,\"maximumFractionDigits\":2}}}},\"chartSettings\":{\"showLegend\":true,\"ySettings\":{\"numberFormatSettings\":{\"unit\":1,\"options\":{\"style\":\"decimal\",\"useGrouping\":true}},\"max\":100}}},\"name\":\"query - 0 - Copy - Copy\"},{\"type\":3,\"content\":{\"version\":\"KqlItem/1.0\",\"query\":\"spot_placement_scores_CL\\n| where Region == \\\"{Region}\\\" or \\\"{Region}\\\" == \\\"\\\"\\n| where Sku == \\\"{sku_selected}\\\" \\n| extend ScoreValue = case(Score == \\\"Low\\\", 1,Score == \\\"Medium\\\", 2, Score == \\\"High\\\", 3,0)\\n| extend RegionAndSku = replace_string(strcat(Region,Sku),\\\"Standard\\\",\\\"\\\") \\n| project TimeGenerated, RegionAndSku, ScoreValue\\n\",\"size\":1,\"aggregation\":1,\"showAnalytics\":true,\"title\":\"Sku Score History (0-Not Available, 1-Low, 2-Medium, 3-High)\",\"noDataMessage\":\"Select a Sku from the list above\",\"timeContextFromParameter\":\"TimeRange\",\"queryType\":0,\"resourceType\":\"microsoft.operationalinsights/workspaces\",\"crossComponentResources\":[\"{Workspace}\"],\"visualization\":\"areachart\",\"tileSettings\":{\"showBorder\":false,\"titleContent\":{\"columnMatch\":\"Sku\",\"formatter\":1},\"leftContent\":{\"columnMatch\":\"ScoreValue\",\"formatter\":12,\"formatOptions\":{\"palette\":\"auto\"},\"numberFormat\":{\"unit\":17,\"options\":{\"maximumSignificantDigits\":3,\"maximumFractionDigits\":2}}}},\"graphSettings\":{\"type\":0,\"topContent\":{\"columnMatch\":\"RegionAndSku\",\"formatter\":1},\"centerContent\":{\"columnMatch\":\"ScoreValue\",\"formatter\":1,\"numberFormat\":{\"unit\":17,\"options\":{\"maximumSignificantDigits\":3,\"maximumFractionDigits\":2}}}},\"chartSettings\":{\"showLegend\":true,\"ySettings\":{\"min\":0,\"max\":3,\"label\":\"\"}},\"mapSettings\":{\"locInfo\":\"LatLong\",\"sizeSettings\":\"ScoreValue\",\"sizeAggregation\":\"Sum\",\"legendMetric\":\"ScoreValue\",\"legendAggregation\":\"Sum\",\"itemColorSettings\":{\"type\":\"heatmap\",\"colorAggregation\":\"Sum\",\"nodeColorField\":\"ScoreValue\",\"heatmapPalette\":\"greenRed\"}}},\"name\":\"query - 0\"}]},\"conditionalVisibility\":{\"parameterName\":\"selectedTab\",\"comparison\":\"isEqualTo\",\"value\":\"spot_placement_score\"},\"name\":\"spot_placement_score_group\"},{\"type\":12,\"content\":{\"version\":\"NotebookGroup/1.0\",\"groupType\":\"editable\",\"items\":[{\"type\":1,\"content\":{\"json\":\"- This data is based on the [\\\"Spot Placement Score (Preview)\\\"](https://learn.microsoft.com/en-us/azure/virtual-machine-scale-sets/spot-placement-score?tabs=portal)\\r\\n- Data is retrieved every 30 minutes, based on a request for 1000 instances\\r\\n- A score of High or Medium **does not guarantee** allocation success or no evictions.\"},\"name\":\"text - 3 - Copy\"},{\"type\":1,\"content\":{\"json\":\"## Spot Placement Score Data\"},\"name\":\"text - 9\"},{\"type\":9,\"content\":{\"version\":\"KqlParameterItem/1.0\",\"crossComponentResources\":[\"{Workspace}\"],\"parameters\":[{\"id\":\"5868ba89-0e6c-435f-8566-c86d44e99663\",\"version\":\"KqlParameterItem/1.0\",\"name\":\"Score\",\"type\":2,\"query\":\"spot_placement_scores_CL\\r\\n| where Region == \\\"{Region}\\\"\\r\\n| distinct Score\",\"crossComponentResources\":[\"{Workspace}\"],\"typeSettings\":{\"additionalResourceOptions\":[\"value::1\"],\"showDefault\":false},\"timeContext\":{\"durationMs\":259200000},\"timeContextFromParameter\":\"TimeRange\",\"defaultValue\":\"value::1\",\"queryType\":0,\"resourceType\":\"microsoft.operationalinsights/workspaces\",\"value\":\"High\"}],\"style\":\"pills\",\"queryType\":0,\"resourceType\":\"microsoft.operationalinsights/workspaces\"},\"name\":\"parameters - 1 - Copy\"},{\"type\":3,\"content\":{\"version\":\"KqlItem/1.0\",\"query\":\"spot_placement_scores_CL\\n| where Region == \\\"{Region}\\\" or \\\"{Region}\\\" == \\\"\\\"\\n| where Sku in ({SKUs})\\n| where \\\"{Score:label}\\\" == \\\"Any one\\\" or Score == \\\"{Score}\\\"  \\n| extend RegionAndSku = replace_string(strcat(Region,Sku),\\\"Standard\\\",\\\"\\\")\\n\",\"size\":0,\"aggregation\":1,\"showAnalytics\":true,\"title\":\"Spot Placement Score Details\",\"timeContextFromParameter\":\"TimeRange\",\"showExportToExcel\":true,\"queryType\":0,\"resourceType\":\"microsoft.operationalinsights/workspaces\",\"crossComponentResources\":[\"{Workspace}\"],\"gridSettings\":{\"formatters\":[{\"columnMatch\":\"TenantId\",\"formatter\":5},{\"columnMatch\":\"Type\",\"formatter\":5},{\"columnMatch\":\"_ResourceId\",\"formatter\":5},{\"columnMatch\":\"RegionAndSku\",\"formatter\":5}],\"rowLimit\":1000,\"filter\":true,\"sortBy\":[{\"itemKey\":\"Sku\",\"sortOrder\":1}]},\"sortBy\":[{\"itemKey\":\"Sku\",\"sortOrder\":1}],\"tileSettings\":{\"showBorder\":false,\"titleContent\":{\"columnMatch\":\"Sku\",\"formatter\":1},\"leftContent\":{\"columnMatch\":\"ScoreValue\",\"formatter\":12,\"formatOptions\":{\"palette\":\"auto\"},\"numberFormat\":{\"unit\":17,\"options\":{\"maximumSignificantDigits\":3,\"maximumFractionDigits\":2}}}}},\"showPin\":true,\"name\":\"query - 0 - Copy\"}]},\"conditionalVisibility\":{\"parameterName\":\"selectedTab\",\"comparison\":\"isEqualTo\",\"value\":\"score_data\"},\"name\":\"score_data\"},{\"type\":12,\"content\":{\"version\":\"NotebookGroup/1.0\",\"groupType\":\"editable\",\"items\":[{\"type\":1,\"content\":{\"json\":\"## Eviction Data (latest)\"},\"name\":\"text - 7\"},{\"type\":9,\"content\":{\"version\":\"KqlParameterItem/1.0\",\"parameters\":[{\"id\":\"c3f980c9-8830-48bd-a2a2-49e6711c2630\",\"version\":\"KqlParameterItem/1.0\",\"name\":\"SKU_List\",\"label\":\"SKU List\",\"type\":2,\"isRequired\":true,\"typeSettings\":{\"additionalResourceOptions\":[],\"showDefault\":false},\"jsonData\":\"[{\\\"value\\\":\\\"filtered\\\",\\\"label\\\":\\\"Use SKUs Filter\\\",\\\"selected\\\":\\\"true\\\"},{\\\"value\\\":\\\"all\\\",\\\"label\\\":\\\"Show All SKUs\\\"}]\",\"timeContext\":{\"durationMs\":86400000}}],\"style\":\"formHorizontal\",\"queryType\":0,\"resourceType\":\"microsoft.operationalinsights/workspaces\"},\"customWidth\":\"30\",\"name\":\"parameters - 6\",\"styleSettings\":{\"margin\":\"0px\"}},{\"type\":3,\"content\":{\"version\":\"KqlItem/1.0\",\"query\":\"SpotResources\\r\\n| where type == \\\"microsoft.compute/skuspotpricehistory/ostype/location\\\"\\r\\n| where location == \\\"{Region}\\\" or \\\"{Region}\\\" == \\\"\\\"\\r\\n| where kind == \\\"linux\\\"\\r\\n| extend SkuCode = tostring(properties.skuName)\\r\\n| extend series = toupper(substring(SkuCode,9,1))\\r\\n| extend skuDetails = substring(SkuCode,10,10)\\r\\n| extend SkuName = strcat(\\\"Standard_\\\",series,skuDetails)\\r\\n| where SkuName in ({SKUs}) or \\\"{SKU_List}\\\" == \\\"all\\\"\\r\\n| where name !has \\\"Internal\\\"\\r\\n| extend price_properties = properties\\r\\n| join kind=leftouter  (\\r\\n   SpotResources\\r\\n   | where type == \\\"microsoft.compute/skuspotevictionrate/location\\\"\\r\\n   | where location == \\\"{Region}\\\" or \\\"{Region}\\\" == \\\"\\\"\\r\\n   | extend SkuCode = tostring(properties.skuName)\\r\\n   | extend series = toupper(substring(SkuCode,9,1))\\r\\n   | extend skuDetails = substring(SkuCode,10,10)\\r\\n   | extend SkuName = strcat(\\\"Standard_\\\",series,skuDetails)\\r\\n   | where SkuName in ({SKUs}) or \\\"{SKU_List}\\\" == \\\"all\\\"\\r\\n   | extend eviction_properties = properties\\r\\n   ) on SkuName\\r\\n| extend eviction_rate = eviction_properties.evictionRate\\r\\n| extend linux_latest_price_usd  = price_properties.spotPrices[0].priceUSD\\r\\n| project SkuName,Location=location,Latest7DayAvgEvictionRate=eviction_rate,LatestLinuxPriceUsd=linux_latest_price_usd\",\"size\":0,\"showAnalytics\":true,\"queryType\":1,\"resourceType\":\"microsoft.resources/tenants\",\"crossComponentResources\":[\"value::tenant\"],\"gridSettings\":{\"formatters\":[{\"columnMatch\":\"eviction_rate\",\"formatter\":1},{\"columnMatch\":\"linux_latest_price_usd\",\"formatter\":1,\"numberFormat\":{\"unit\":0,\"options\":{\"style\":\"decimal\",\"useGrouping\":false}}},{\"columnMatch\":\"alternative_sku\",\"formatter\":1}],\"filter\":true},\"sortBy\":[]},\"name\":\"query - 5\",\"styleSettings\":{\"margin\":\"70\"}}]},\"conditionalVisibility\":{\"parameterName\":\"selectedTab\",\"comparison\":\"isEqualTo\",\"value\":\"eviction_and_price\"},\"name\":\"eviction_and_price_group\"},{\"type\":1,\"content\":{\"json\":\"If using Azure Functions, logs from the last 4 hours will show below\"},\"name\":\"text - 6\"},{\"type\":12,\"content\":{\"version\":\"NotebookGroup/1.0\",\"groupType\":\"editable\",\"items\":[{\"type\":3,\"content\":{\"version\":\"KqlItem/1.0\",\"query\":\"AppTraces \\r\\n| project TimeGenerated, Message, _ResourceId\",\"size\":2,\"showAnalytics\":true,\"timeContext\":{\"durationMs\":14400000},\"showRefreshButton\":true,\"queryType\":0,\"resourceType\":\"microsoft.operationalinsights/workspaces\",\"crossComponentResources\":[\"{Workspace}\"],\"gridSettings\":{\"rowLimit\":2500,\"filter\":true}},\"name\":\"query - 0\"}]},\"conditionalVisibility\":{\"parameterName\":\"selectedTab\",\"comparison\":\"isEqualTo\",\"value\":\"function_app_logs\"},\"name\":\"function_app_logs_group\"}],\"isLocked\":false,\"fallbackResourceIds\":[\"azure monitor\"]}",
        "version": "1.0",
        "sourceId": "[parameters('workbookSourceId')]",
        "category": "[parameters('workbookType')]"
      }
    }
  ],
  "outputs": {
    "workbookId": {
      "type": "string",
      "value": "[resourceId( 'microsoft.insights/workbooks', parameters('workbookId'))]"
    }
  },
  "$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#"
}